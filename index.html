<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>
<body>
    <div>
        <h1>Stacking Cards</h1>
        <div class='container'>
          <div class='cards'>
            <div class='card' style='top:60px'>1 <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facere tenetur, rerum dicta consectetur iusto cumque porro? Error at, ipsum sit aspernatur perferendis odit obcaecati ab?</p></div>
            <div class='card' style='top:60px'>2 <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facere tenetur, rerum dicta consectetur iusto cumque porro? Error at, ipsum sit aspernatur perferendis odit obcaecati ab?</p></div>
            <div class='card' style='top:60px'>3 <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facere tenetur, rerum dicta consectetur iusto cumque porro? Error at, ipsum sit aspernatur perferendis odit obcaecati ab?</p></div>
            <div class='card' style='top:60px'>4 <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facere tenetur, rerum dicta consectetur iusto cumque porro? Error at, ipsum sit aspernatur perferendis odit obcaecati ab?</p></div>
            <div class='card' style='top:60px'>5 <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facere tenetur, rerum dicta consectetur iusto cumque porro? Error at, ipsum sit aspernatur perferendis odit obcaecati ab?</p></div>
            <div class='card' style='top:60px'>6 <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facere tenetur, rerum dicta consectetur iusto cumque porro? Error at, ipsum sit aspernatur perferendis odit obcaecati ab?</p></div>
            <div class='card' style='top:60px'>7 <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facere tenetur, rerum dicta consectetur iusto cumque porro? Error at, ipsum sit aspernatur perferendis odit obcaecati ab?</p></div>
            <div class='card' style='top:60px'>8 <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facere tenetur, rerum dicta consectetur iusto cumque porro? Error at, ipsum sit aspernatur perferendis odit obcaecati ab?</p></div>
            <div class='card' style='top:60px'>9 <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facere tenetur, rerum dicta consectetur iusto cumque porro? Error at, ipsum sit aspernatur perferendis odit obcaecati ab?</p></div>
            <div class='card' style='top:60px'>10 <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facere tenetur, rerum dicta consectetur iusto cumque porro? Error at, ipsum sit aspernatur perferendis odit obcaecati ab?</p></div>
          </div>
        </div>
      <div class="spacer"></div>
      <div class="spacerr"></div>
      </div>


      <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js" integrity="sha512-16esztaSRplJROstbIIdwX3N97V1+pZvV33ABoG1H2OyTttBxEGkTsoIVsiP1iaTtM8b3+hu2kB6pQ4Clr5yug==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js" integrity="sha512-Ic9xkERjyZ1xgJ5svx3y0u3xrvfT/uPkV99LBwe68xjy/mGtO+4eURHZBW2xW4SZbFrF1Tf090XqB+EVgXnVjw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://unpkg.com/split-type"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.27/bundled/lenis.min.js"></script> 


    <script>


const lenis = new Lenis()

lenis.on('scroll', (e) => {
  console.log(e)
})

function raf(time) {
  lenis.raf(time)
  requestAnimationFrame(raf)
}

requestAnimationFrame(raf)

        const cards = gsap.utils.toArray(".card");
const spacer = 40; //how much space you want for there to be
const minScale = 0.8;

const distributor = gsap.utils.distribute({ base: minScale, amount: 0.2 });

cards.forEach((card, index) => {
  
  const scaleVal = distributor(index, cards[index], cards);
  
  const tween = gsap.to(card, {
    scrollTrigger: {
      trigger: card,
      start: `top top`,
      scrub: true,
      // markers: true,
      invalidateOnRefresh: true
    },
    ease: "none",

    //if you need some scale

    //scale: scaleVal
    
  });

  ScrollTrigger.create({
    trigger: card,
    start: `top-=${index * spacer} top`,
    endTrigger: '.cards',
    end: `bottom top+=${200 + (cards.length * spacer)}`,
    pin: true,
    pinSpacing: false,
    // markers: true,
    id: 'pin',
    invalidateOnRefresh: true,
  });
});

    </script>
</body>
</html>